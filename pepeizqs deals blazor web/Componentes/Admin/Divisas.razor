@using Microsoft.AspNetCore.Components.Web
@using Microsoft.Data.SqlClient

<style>
    .caja-admin-divisas {
        background-color: var(--fondoSubsubcabecera);
        border: 2px solid var(--fondoSubcabecera);
        padding: 30px;
        box-shadow: 0px 4px 8px 0px rgba(0, 0, 0, 0.28),0px 0px 2px 0px rgba(0, 0, 0, 0.24);
    }
</style>

<div class="caja-admin-divisas">
    <div>
        <button @onclick="@(e => ActualizarDivisas(e))" class="boton-pequeño" style="text-align: center; width: 200px;">Actualizar</button>
    </div>

    <div style="display: flex; flex-direction: column; gap: 20px; margin-top: 20px;">
        <div>@dolar</div>
        <div>@libra</div>
    </div>
</div>

@code {

    #nullable disable

    public string dolar { get; set; }
    public string libra { get; set; }

    protected override void OnInitialized()
    {
        dolar = Herramientas.Divisas.MensajeDolar();
        libra = Herramientas.Divisas.MensajeLibra();
    }

    private async Task ActualizarDivisas(MouseEventArgs e)
    {
        await Herramientas.Divisas.ActualizarDatos();
    }
}
